{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aline\\\\OneDrive\\\\Escritorio\\\\react-restaurantapp\\\\restaurantapp\\\\src\\\\componentes\\\\Comentario.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport '../css/contacres.css';\nimport '../css/pagmenu.css';\nimport Navbar from \"./Navbar\";\nimport Footer from \"./Footer\";\nimport { Alert } from \"./Alert\";\nimport { sendClient, sendManage } from \"../functionsSendMail/functions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Comentario = () => {\n  _s();\n  const [comentario, setComentario] = useState({});\n  const [alertData, setAlertData] = useState({});\n  const [alertShow, setAlertShow] = useState(false);\n  const user = JSON.parse(localStorage.getItem('user'));\n  useEffect(() => {\n    setComentario({\n      ...comentario,\n      usuId: user.usuId\n    });\n  }, []);\n  const handleChange = e => {\n    setComentario({\n      ...comentario,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleAlert = () => {\n    setAlertShow(false);\n  };\n  const addReserva = e => {\n    e.preventDefault();\n    setAlertData({\n      message: 'Su comentario se ha subido correctamente',\n      type: 'success'\n    });\n    setAlertShow(true);\n    sendClient('Su comentario se ha subido correctamente', user.usuCorreo, user.usuNombre);\n    sendManage('Su comentario se ha subido correctamente');\n    (async () => {\n      const requestInit = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'Application/json'\n        },\n        body: JSON.stringify(comentario)\n      };\n      const peticion = await fetch(`https://app-restaurante-colnodo.herokuapp.com/mensajes`, requestInit);\n      console.log(peticion);\n    })();\n    setTimeout(() => {\n      window.location.reload();\n    }, 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"AppC menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(Navbar, {\n          estado: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"der\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => addReserva(e),\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Comentarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              rows: \"7\",\n              id: \"comment\",\n              name: \"menComentario\",\n              placeholder: \"Comentario\",\n              onChange: e => handleChange(e),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary btncenter\",\n            children: \"Comentar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"liveAlertPlaceholder\",\n        children: alertShow ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            alerts: alertData,\n            reset: handleAlert\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 30\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }, this) : window.location.href = '/login'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_s(Comentario, \"tuEGmq1TxeEbRQZcHZ4vduoRcFI=\");\n_c = Comentario;\nexport default Comentario;\nvar _c;\n$RefreshReg$(_c, \"Comentario\");","map":{"version":3,"names":["React","useState","useEffect","Fragment","Navbar","Footer","Alert","sendClient","sendManage","Comentario","comentario","setComentario","alertData","setAlertData","alertShow","setAlertShow","user","JSON","parse","localStorage","getItem","usuId","handleChange","e","target","name","value","handleAlert","addReserva","preventDefault","message","type","usuCorreo","usuNombre","requestInit","method","headers","body","stringify","peticion","fetch","console","log","setTimeout","window","location","reload","href"],"sources":["C:/Users/aline/OneDrive/Escritorio/react-restaurantapp/restaurantapp/src/componentes/Comentario.js"],"sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport '../css/contacres.css';\nimport '../css/pagmenu.css';\nimport Navbar from \"./Navbar\";\nimport Footer from \"./Footer\";\nimport { Alert } from \"./Alert\";\nimport { sendClient, sendManage } from \"../functionsSendMail/functions\";\n\nconst Comentario = () => {\n\n    const [comentario, setComentario] = useState({});\n    const [alertData, setAlertData] = useState({})\n    const [alertShow, setAlertShow] = useState(false)\n\n    const user = JSON.parse(localStorage.getItem('user'));\n\n    useEffect(() => {\n        \n        setComentario({...comentario,\n            usuId: user.usuId\n        })\n    }, []);\n\n    const handleChange = (e) => {\n        setComentario({...comentario, [e.target.name]: e.target.value})\n    }\n\n    const handleAlert = () => {\n        setAlertShow(false);\n    }\n\n    const addReserva = e => {\n        e.preventDefault();\n\n        setAlertData({\n            message: 'Su comentario se ha subido correctamente',\n            type: 'success'\n        })\n        setAlertShow(true);\n\n        sendClient('Su comentario se ha subido correctamente', user.usuCorreo, user.usuNombre);\n        sendManage('Su comentario se ha subido correctamente');\n\n        (async ()=> {\n            const requestInit = {\n                method: 'POST',\n                headers: {'Content-Type': 'Application/json'},\n                body: JSON.stringify(comentario)\n            }\n    \n            const peticion = await fetch(`https://app-restaurante-colnodo.herokuapp.com/mensajes`, requestInit);\n            console.log(peticion);\n        })()\n\n        setTimeout(() => {\n            window.location.reload();\n        }, 1000)\n    }\n\n    return(\n        <Fragment>\n            {user\n                ?   <div className=\"AppC menu\">\n                    <header>\n                        <Navbar estado={true} />\n                    </header>\n                        <section id=\"der\">\n                        <form onSubmit={e => addReserva(e)}>\n                            <h1>Comentarios</h1>\n                            <div className=\"form-group\">\n                                <textarea className=\"form-control\" rows=\"7\" id=\"comment\" name=\"menComentario\" placeholder=\"Comentario\" onChange={e => handleChange(e)} required></textarea>\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-primary btncenter\">Comentar</button>\n                        </form>\n                        </section>\n                    <Footer />\n                    <div id=\"liveAlertPlaceholder\">\n                            {alertShow ? \n                            (<div>\n                                <Alert alerts={alertData} reset={handleAlert} />\n                            </div> ) : \n                            (<div></div>) }\n                        </div>\n                    </div> \n                    : window.location.href = '/login' \n            }\n        </Fragment>\n    );\n}\nexport default Comentario;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}