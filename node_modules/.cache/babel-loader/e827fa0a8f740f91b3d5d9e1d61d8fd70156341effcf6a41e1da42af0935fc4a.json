{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aline\\\\OneDrive\\\\Escritorio\\\\react-restaurantapp\\\\restaurantapp\\\\src\\\\componentes\\\\FormLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, Fragment } from 'react';\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport { Alert } from './Alert';\nimport '../css/form-compra.css';\nimport '../css/pagmenu.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormLogin = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [userData, setUserData] = useState({});\n  const [alertData, setAlertData] = useState({});\n  const [alertShow, setAlertShow] = useState(false);\n  useEffect(() => {\n    const userData = localStorage.getItem('user');\n    if (userData !== null) {\n      setUser(JSON.parse(userData));\n    }\n  }, []);\n  const handleChange = e => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleAlert = () => {\n    setAlertShow(false);\n  };\n  const handleLogin = e => {\n    e.preventDefault();\n    (async () => {\n      const requestInit = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'Application/json'\n        },\n        body: JSON.stringify(userData)\n      };\n      const data = await fetch('https://app-restaurante-colnodo.herokuapp.com/login', requestInit);\n      const response = await data.json();\n      if (response.message || response.type) {\n        setAlertData(response);\n        setAlertShow(true);\n        setTimeout(() => {\n          setAlertShow(false);\n        }, 3000);\n      } else {\n        setAlertData({\n          message: 'Su sesión ha sido iniciada exitosamente',\n          type: 'success'\n        });\n        setAlertShow(true);\n        localStorage.setItem('user', JSON.stringify(response));\n        setTimeout(() => {\n          window.history.back();\n        }, 1000);\n      }\n    })();\n  };\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: user ? window.history.back() : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-login menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(Navbar, {\n          estado: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"services\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"envio-correo\",\n          onSubmit: e => handleLogin(e),\n          children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n              children: \"Inicio de Sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inp\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Inicie sesi\\xF3n para continuar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"usuNombre\",\n                id: \"nombre\",\n                placeholder: \"Nombre de Usuario\",\n                onChange: e => handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"usuContrase\\xF1a\",\n                id: \"pass\",\n                placeholder: \"Contrase\\xF1a\",\n                onChange: e => handleChange(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              id: \"btnenviar\",\n              children: \"Entrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"liveAlertPlaceholder\",\n        children: alertShow ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            alerts: alertData,\n            reset: handleAlert\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 30\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n_s(FormLogin, \"VmhUKcWaAUgVlpj9HM3mwiTbpPg=\");\n_c = FormLogin;\nexport default FormLogin;\nvar _c;\n$RefreshReg$(_c, \"FormLogin\");","map":{"version":3,"names":["React","useState","useEffect","Fragment","Navbar","Footer","Alert","FormLogin","user","setUser","userData","setUserData","alertData","setAlertData","alertShow","setAlertShow","localStorage","getItem","JSON","parse","handleChange","e","target","name","value","handleAlert","handleLogin","preventDefault","requestInit","method","headers","body","stringify","data","fetch","response","json","message","type","setTimeout","setItem","window","history","back"],"sources":["C:/Users/aline/OneDrive/Escritorio/react-restaurantapp/restaurantapp/src/componentes/FormLogin.js"],"sourcesContent":["import React, { useState, useEffect, Fragment } from 'react'\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport { Alert } from './Alert';\n\nimport '../css/form-compra.css'\nimport '../css/pagmenu.css'\n\nconst FormLogin = () => {\n\n    const [user, setUser] = useState(null)\n    const [userData, setUserData] = useState({})\n    const [alertData, setAlertData] = useState({})\n    const [alertShow, setAlertShow] = useState(false);\n\n    useEffect(() => {\n        const userData = localStorage.getItem('user');\n\n        if (userData !== null) {\n            setUser(JSON.parse(userData))\n        }\n    }, [])\n\n    const handleChange = (e) => {\n        setUserData({...userData, [e.target.name]: e.target.value})\n    }\n\n    const handleAlert = () => {\n        setAlertShow(false);\n    }\n\n    const handleLogin = e => {\n        e.preventDefault();\n\n        (async() => {\n            const requestInit = {\n                method: 'POST',\n                headers: {'Content-Type': 'Application/json'},\n                body: JSON.stringify(userData)\n            }\n            const data = await fetch('https://app-restaurante-colnodo.herokuapp.com/login', requestInit);\n            const response = await data.json();\n\n            if (response.message || response.type) {\n                setAlertData(response);\n                setAlertShow(true);\n\n                setTimeout(() => {\n                    setAlertShow(false);\n                }, 3000)\n            } else {\n                setAlertData({\n                    message: 'Su sesión ha sido iniciada exitosamente',\n                    type: 'success'\n                })\n                setAlertShow(true);\n\n                localStorage.setItem('user', JSON.stringify(response));\n\n                setTimeout(() => {\n                    window.history.back();\n                }, 1000);\n            }\n        })()\n    }\n\n    return (\n        <Fragment>\n            {user \n                ? window.history.back()\n                : <div className=\"form-login menu\">\n                <header>\n                    <Navbar estado={true} />\n                </header>\n                <section className=\"services\">\n                    <form className=\"envio-correo\" onSubmit={e => handleLogin(e)} >\n                        <fieldset>\n                            <legend>Inicio de Sesión</legend>\n                            <div className=\"inp\">\n                                <p>Inicie sesión para continuar</p>\n                                <input type=\"text\" name=\"usuNombre\" id=\"nombre\" placeholder=\"Nombre de Usuario\" onChange={e => handleChange(e)} />\n                                <input type=\"password\" name=\"usuContraseña\" id=\"pass\" placeholder=\"Contraseña\" onChange={e => handleChange(e)} />\n                            </div>\n                            <button type=\"submit\" id=\"btnenviar\">Entrar</button>\n                        </fieldset>\n                    </form>\n                </section>\n                <div id=\"liveAlertPlaceholder\">\n                    {alertShow \n                        ?   (<div>\n                                <Alert alerts={alertData} reset={handleAlert} />\n                            </div> ) \n                        :   (<div></div>) }\n                </div>\n                <Footer />\n            </div> }\n        </Fragment>\n    )\n}\n\nexport default FormLogin\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}